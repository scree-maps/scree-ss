{
  "name": "screess",
  "description": "A stylesheet language that compiles down to a MapBox GL stylesheet",
  "author": "Lucas Wojciechowski <lucas@lucaswoj.com>",
  "main": "compiled/node/main",

  "repository" : {
    "type" : "git",
    "url" : "http://github.com/screemaps/screess.git"
  },

  "dependencies": {
    "pegjs": "",
    "coffee-script": ""
  },

  "devDependencies": {
    "pegjs-coffee-plugin": "",
    "mocha": "",
    "browserify": ""
  },

  "scripts": {
    "prepublish": "npm run build",

    "build": "npm run build-pegjs && npm run build-coffee && npm run build-browser",
    "build-pegjs": "pegjs --plugin pegjs-coffee-plugin --allowed-start-rules global,valueExpression,ruleMacroDefinitionScopeArguments,valueMacroDefinitionArguments source/parser.pegcs source/parser.js",
    "build-coffee": "coffee --compile --output compiled/node source && cp source/parser.js compiled/node/parser.js",
    "build-browser": "browserify --outfile compiled/browser.js compiled/node/main.js",

    "test": "npm run build-pegjs && mocha --compilers coffee:coffee-script/register tests",
    "test-debug": "npm run build && open http://127.0.0.1:8080/debug?port=5858 && mocha --debug-brk --compilers coffee:coffee-script/register tests"
  }

}